#include<iostream>
#include<algorithm>
#include<vector>
#include<cstring>
using namespace std;

const int N = 105;
vector<int> G[N];
int d[N],f[N];
int t=1;

bool isroot[N];

void dfs(int now) {
	d[now] = t++;
	for(int i=0;i<G[now].size();i++)
		dfs(G[now][i]);
	f[now] = t++;
}

int main() {
	int n;
	cin>>n;
	memset(isroot,1,sizeof(isroot));
	for(int i=0;i<n;i++) {
		int u,k,v;
		cin>>u>>k;
		for(int j=0;j<k;j++) {
			cin>>v;
			isroot[v] = 0;
			G[u].push_back(v);
		}
	}
	int root = 0;
	for(int i=1;i<=n;i++)
		if(isroot[i])
			root = i;
	dfs(root);
	for(int i=1;i<=n;i++)
		cout<<i<<" "<<d[i]<<" "<<f[i]<<endl;

}
