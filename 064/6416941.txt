
import java.util.*;
public class Main {

	static int N;
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		N = sc.nextInt();
		int[] arr = new int[N+1];
		for(int i=1;i<=N;i++) {
			int node = sc.nextInt();
			arr[i] = node;
		}
		buildMaxHeap(arr);
		for(int i=1;i<=N;i++) {
			System.out.print(" "+arr[i]);
		}
	}
	public static void buildMaxHeap(int[] arr) {
		for(int i=(N-1)/2;i>=1;i--) {
			maxHeapify(arr, i);
		}
	}
	public static void maxHeapify(int[] arr, int i) {
		int l = left(i);
		int r = right(i);
		int largest = i;
		if(l<N+1 && arr[l]>arr[i]) largest = l;
		if(r<N+1 && arr[r]>arr[largest]) largest = r;
		if(largest != i) {
			int place = arr[i];
			arr[i] = arr[largest];
			arr[largest] = place;
			maxHeapify(arr, largest);
		}
	}
	public static int left(int i) { return i*2;}
	public static int right(int i) { return i*2+1;}
}

