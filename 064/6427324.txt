#include<bits/stdc++.h>
using namespace std;

int main(){
    int W,H;
    cin>>W>>H;
    char c;
    cin>>c;
    for(int i=0;i<H;i++){
        for(int j=0;j<W;j++){
            if(i==0||i==H-1){
                if(j==0||j==W-1){
                    cout<<"+";
                }else{
                    cout<<"-";
                }
            }else if(j==0||j==W-1){
                cout<<"|";
            }else if(i==H/2&&j==W/2){
                cout<<c;
            }else{
                cout<<".";
            }
        }
        cout<<"\n";
    }
    return(0);
}
