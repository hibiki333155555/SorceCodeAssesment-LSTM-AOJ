#include<stdio.h>
#define MAX 200002

int H;
int A[MAX];

void maxHeapfy(int A[], int i)
{
  int l = 2 * i;
  int r = 2 * i + 1;
  int largest;
  int temp;

  if(l <= H && A[l] > A[i]) largest = l;
  else largest = i;

  if(r <= H && A[r] > A[largest]) largest = r;

  if(largest == i) return;
  else{
    temp = A[largest];
    A[largest] = A[i];
    A[i] = temp;
    maxHeapfy(A, largest);
  }
}

void heapSort(int A[])
{
  int temp;

  for(int i = H / 2; i > 0; i-- ){
    maxHeapfy(A, i);
  }

  int heapsize = H;
  while(heapsize >= 2){
    temp = A[heapsize];
    A[heapsize] = A[1];
    A[1] = temp;
    heapsize--;
    maxHeapfy(A, 1);
  }
}

int main()
{
  int temp;
  scanf("%d", &H);
  for(int i = 1; i <= H; i++ ) scanf("%d", &A[i]);

  heapSort(A);

//   for(int i = 1; i <= H; i++ ) printf("%d ", A[i]);
//   printf("\n");

  // for(int i = 2; i < H; i++ ){
  //   temp = A[i];
  //   A[i] = A[1];
  //   A[1] = temp;

  //   int j = i;
  //   while(j != 1){
  //     temp = A[j];
  //     A[j] = A[j / 2];
  //     A[j / 2] = temp;
  //     j = j / 2;
  //   }
  // }

  // temp = A[1];
  // A[1] = A[H];
  // A[H] = temp;

  for (int i = 1; i < H; i++){ // A[1] and A[n] will not the swap target
        int me = i;
        int parent = i/2;
        
        while(parent > 1){
            int tmp = A[parent];
            A[parent] = A[me];
            A[me] = tmp;
            
            me = parent;
            parent = me/2;
        }
    }
    int tmp = A[1];
    A[1] = A[H];
    A[H] = tmp;

  for(int i = 1; i <= H; i++ ) printf("%d ", A[i]);

  return 0;
}
