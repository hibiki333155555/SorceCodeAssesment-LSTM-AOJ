#include "bits/stdc++.h"
using namespace std;

#define YES		0
#define	NO		1

int A[200000];
int partition(int,int);

int main(){

	int n;
	int point;

	if(scanf("%d",&n)){

	}
	for(int i = 0;i < n;i++){
		if(scanf("%d",&A[i])){

		}
	}

	point = partition(0,n);

	for(int i = 0;i < point;i++){
		printf("%d ",A[i]);
	}
	printf("[%d] ",A[point]);
	for(int i = point + 1;i < n;i++){
		printf("%d ",A[i]);
	}
	return 0;
}

int partition(int p,int n){
	int x = A[n - 1];
	int i = p - 1;
	int temp;

	for(int j = 0;j < n - 1;j++){
		if(A[j] <= x){
			i = i + 1;
			temp = A[i];
			A[i] = A[j];
			A[j] = temp;
		}
	}

	temp = A[n - 1];
	A[n - 1] = A[i + 1];
	A[i + 1] = temp;

	return(i + 1);
}

