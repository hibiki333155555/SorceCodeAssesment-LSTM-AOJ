#include <iostream>
#include <cstdio>

using namespace std;

int count;

void printArray(int *nums, int size)
{
  for (int i = 0; i < size; i++)
  {
    if (i != size - 1) cout << nums[i] << " ";
    else cout << nums[i] << endl;
  }
}

void insertionSort(int *nums, int size, int g)
{
  for (int i = g; i < size; i++)
  {
    int a = nums[i];
    int j = i - g;
    while (j >= 0 && a < nums[j])
    {
      nums[j+g] = nums[j];
      j -= g;
      count++;
    }
    nums[j+g] = a;
  }
}

void shellSort(int *nums, int size)
{
  count = 0;
  int m = size / 2 + 1;
  int *G = new int[m];

  int g = 1;
  for (int i = m-1; i >= 0; i--)
  {
    G[i] = g;
    g = 3 * g + 1;
  }

  cout << m << endl;
  printArray(G, m);

  for (int i = 0; i < m; i++)
  {
    insertionSort(nums, size, G[i]);
  }
  
  cout << count << endl;
}

int main(int argc, char const *argv[])
{
  int n;

  cin >> n;
  int *nums = new int[n];

  for (int i = 0; i < n; i++)
  {
    cin >> nums[i];
  }

  shellSort(nums, n);

  for (int i = 0; i < n; i++)
  {
    cout << nums[i] << endl;
  }

  return 0;
}

