#include <bits/stdc++.h>
#include <complex>
#include <random>
#include <functional>
using namespace std;
using ll = long long;
#define all(A) A.begin(),A.end()
#define ALL(A) A.begin(),A.end()
using vll = vector<ll>;
using vvll = vector<vll>;
#define rep(i, n) for (long long i = 0; i < (long long)(n); i++)

int main() {
    ll N;
    cin>>N;
    vll A(N);
    ll mod=998244353;
    vll T(N,0);
    rep(i,N){
        cin>>A[i];
        T[min(i+A[i]-1,N-1)]++;

    }
    reverse(all(T));
    ll an=1;
    ll k=0;
    rep(i,N){
        k+=T[i];
        ///cout<<T[i]<<endl;
        an*=k;
        an%=mod;
        k--;
    }
    cout<<an<<endl;
    
}
    


