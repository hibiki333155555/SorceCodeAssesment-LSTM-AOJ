#include <bits/stdc++.h>

using namespace std;

int cnt = 0;

void insertionSort(int A[], int n, int g) {
  int v;
  int j;
  for (int i = g; i < n; i++) {
    v = A[i];
    j = i - g;
    while (j > 0 && A[j] > v) {
      A[j + g] = A[j];
      j = j - g;
      cnt++;
    }
    A[j + g] = v;
  }
}

void shellSort(int A[], int n) {
  int m = log2(n) + 1;
  int G[m];
  for (int i = 0; i < m; i++) {
    G[i] = pow(2, i);
  }
  cout << m << endl;
  for (int i = 0; i < m; i++) {
    if (i != m - 1) cout << G[i] << ' ';
    insertionSort(A, n, G[i]);
  }
  cout << G[m - 1] << endl;
}

int main() {
  int n;
  scanf("%d", &n);
  int A[n];
  for (int i = 0; i < n; i++) {
    scanf("%d", &A[i]);
  }
  shellSort(A, n);
  cout << cnt << endl;
  for (int i = 0; i < n; i++) {
    cout << A[i] << endl;
  }
}
