#include<iostream>
#include<string>
#include<sstream>

using namespace std;

int main() {
    string str, word, commandLine, strRe, command;
    int n, idx1, idx2, flag = 0;
    cin >> str >> n;
    std::cin.ignore(32767, '\n');
    while(n > 0) {
        getline(cin, commandLine);
        stringstream ss(commandLine);
        while(ss >> word) {
            if(flag == 0) {
                command = word;
            }
            if(flag == 1) {
                idx1 = stoi(word);
            }
            if(flag == 2) {
                idx2 = stoi(word);
            }
            if(flag == 3) {
                strRe = word;
            }
            flag++;
        }
        if(command == "print") {
            for(int i = idx1; i <= idx2; i++) {
                cout << str[i];
            }
            cout << endl;
        }
        if(command == "replace") {
            str.replace(idx1, (idx2 - idx1 + 1), strRe);
        }
        /*if(command == "reverse") {
            
        }*/
        n--;
    }
    return 0;
}
