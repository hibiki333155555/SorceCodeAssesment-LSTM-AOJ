#include <bits/stdc++.h>
using namespace std;
#define rep(i,n) for(int i = 0; i < (int)n; i++)
using ll = long long;
using P = pair<int,int>;

int main(){
  int n, m;
  cin >> n >> m;
  vector<ll> a(n), b(n), c(n);
  vector<vector<int>> st(m), ed(m);
  rep(i,n) {
    cin >> a[i] >> b[i] >> c[i];
    b[i]--; c[i]--;
    st[b[i]].push_back(i);
    ed[c[i]].push_back(i);
  }
  int q;
  cin >> q;
  vector<ll> oni(m);
  rep(i,q) {
    ll d, e;
    cin >> d >> e;
    e--;
    oni[e] += d;
  }
  set<P> s;
  ll cur = 0, ans = 0;
  rep(i,m) {
    for(auto x : st[i]) {
      cur += a[x];
      s.insert(P(c[x],x));
    }
    if(cur < oni[i]) {
      if(!s.size()) {
        cout << -1 << endl;
        return 0;
      }
      P p = *s.rbegin();
      ans += (oni[i]-cur);
      a[p.second] += (oni[i]-cur);
      cur += (oni[i]-cur);
    }
    for(auto x : ed[i]) {
      cur -= a[x];
      s.erase(P(c[x],x));
    }
  }
  cout << ans << endl;
  return 0;
}

