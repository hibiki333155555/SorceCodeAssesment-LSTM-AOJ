#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef long double ld;
#define REP(i, n) for (int i = 0; i < (n); ++i)
#define REPR(i, n) for (int i = n - 1; i >= 0; --i)
#define FOR(i, m, n) for (int i = m; i < n; ++i)
#define FORR(i, m, n) for (int i = m; i >= n; --i)
#define ALL(v) (v).begin(),(v).end()
#define ALLR(v) (v).rbegin(),(v).rend()
#define fi first
#define se second
#define PB push_back
#define EB emplace_back
using P = pair<ll, ll>;
template<typename T> using PQ = priority_queue<T>;
template<typename T> using QP = priority_queue<T,vector<T>,greater<T>>;
template<typename T>void debug(const T &v,ll h,ll w){for(ll i=0;i<h;i++){for(ll j=0;j<w;j++)cout<<v[i][j]<<" \n"[j==w-1];}};
template<typename T>void debug(const T &v,ll n){for(ll i=0;i<n;i++)cout<<v[i]<<" \n"[i==n-1];};
template<typename T>void debug(const vector<T>&v){debug(v,v.size());}
template<typename T>void debug(const vector<vector<T>>&v){for(auto &vv:v)debug(vv,vv.size());}
template<typename T>void debug(stack<T> st){while(!st.empty()){cout<<st.top()<<" ";st.pop();}cout<<endl;}
template<typename T>void debug(queue<T> st){while(!st.empty()){cout<<st.front()<<" ";st.pop();}cout<<endl;}
template<typename T>void debug(deque<T> st){while(!st.empty()){cout<<st.front()<<" ";st.pop_front();}cout<<endl;}
template<typename T>void debug(PQ<T> st){while(!st.empty()){cout<<st.top()<<" ";st.pop();}cout<<endl;}
template<typename T>void debug(QP<T> st){while(!st.empty()){cout<<st.top()<<" ";st.pop();}cout<<endl;}
template<typename T>void debug(const set<T>&v){for(auto z:v)cout<<z<<" ";cout<<endl;}
template<typename T>void debug(const multiset<T>&v){for(auto z:v)cout<<z<<" ";cout<<endl;}
template<typename T,size_t size>void debug(const array<T, size> &a){for(auto z:a)cout<<z<<" ";cout<<endl;}
template<typename T,typename V>void debug(const map<T,V>&v){for(auto z:v)cout<<"["<<z.first<<"]="<<z.second<<",";cout<<endl;}
template<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }
template<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }
int popcount(ll x){return __builtin_popcountll(x);};
int poplow(ll x){return __builtin_ctzll(x);};
int pophigh(ll x){return 63 - __builtin_clzll(x);};
const ll INF=1LL<<60;
const int inf=(1<<30)-1;
// const int mod=1e9+7;
const int mod=998244353;
int dx[8]={1,0,-1,0,-1,-1,1,1};
int dy[8]={0,1,0,-1,-1,1,-1,1};

int main(){
    cin.tie(0);
    ios::sync_with_stdio(false);
    ll n,m;cin >> n >> m;
    vector<ll> a(n),b(n),c(n);
    vector<tuple<ll,ll,ll>> p;
    REP(i,n){
        cin >> a[i] >> b[i] >> c[i];
        b[i]--,c[i]--;
        p.PB({b[i],0,i});
        p.PB({c[i],2,i});
    }
    ll q;cin >> q;
    vector<ll> d(q),e(q);
    REP(i,q){
        cin >> d[i] >> e[i];
        e[i]--;
        p.PB({e[i],1,i});
    }
    sort(ALL(p));
    set<pair<ll,ll>> st;
    ll sum=0;
    ll ans=0;
    for(auto [u,v,w]:p){
        // cerr << u << " " << v << " " << w << " " << sum << " " << ans << endl;
        if(v==0){
            sum+=a[w];
            st.insert({c[w],w});
        }
        else if(v==1){
            if(sum==0){
                cout << -1 << endl;
                return 0;
            }
            auto itr=st.end();
            itr--;
            auto [x,y]=*itr;
            ll cst=max(0LL,d[w]-sum);
            a[y]+=cst;
            ans+=cst;
            chmax(sum,d[w]);
        }
        else{
            sum-=a[w];
            st.erase({c[w],w});
        }
    }
    cout << ans << endl;
}
