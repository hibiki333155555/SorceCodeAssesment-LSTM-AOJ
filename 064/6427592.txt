#include<iostream>
#include<cstdio>
#include<string>
#include<cmath>
#include<algorithm>
#include<map>
#include<vector>
#include<stack>
using namespace std;

int adjM[100][100] = { {0} };
int n;
int color[100] = { 0 };
int t, d[100],f[100];
static const int WHITE = 0;
static const int GRAY = 1;
static const int BLACK = 2;

void visit(int x) {
	t++;
	d[x] = t;
	color[x] = GRAY;
	for (int i = 0;i < n;i++) {
		if (adjM[x][i] && color[i] == WHITE) {
			visit(i);
		}
	}
	t++;
	f[x] = t;
	color[x] = BLACK;
}


int main() {
	cin >> n;
	int u, k;
	int v;
	for (int i = 0;i < n;i++) {
		scanf("%d %d", &u, &k);
		u--;
		for (int j = 0;j < k;j++) {
			scanf("%d", &v);
			v--;
			adjM[u][v] = true;
		}
	}

	t = 0;
	for (int i = 0;i < n;i++) {
		if (color[i] == 0)visit(i);
	}

	for (int i = 0;i < n;i++) {
		printf("%d %d %d\n", i + 1, d[i], f[i]);
	}
	return 0;
}
