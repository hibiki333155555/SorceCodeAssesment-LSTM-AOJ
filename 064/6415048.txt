#include <bits/stdc++.h>
using namespace std;

int main() {
    int N;
    string S;
    cin >> N >> S;
    vector<int>A(N);
    for(int i = 0; i < N; i++) {
        cin >> A[i];
    }
    long long ans = 0;
    for(int _ = 0; _ < 6; _++) {
        auto cmp = [&](int l, int r) { return A[l] > A[r]; };
        priority_queue<int, vector<int>, decltype(cmp)> que1(cmp);
        int sum = 0;
        for(int i = 0; i < N; i++) {
            if(S[i] == ')') {
                que1.push(i);
                sum--;
            }
            else {
                sum++;
            }
            if(sum < 0) {
                sum += 2;
                int idx = que1.top();
                ans += A[idx];
                S[idx] ^= '(' ^ ')';
                que1.pop();
            }
        }
        reverse(A.begin(), A.end());
        reverse(S.begin(), S.end());
        for(int i = 0; i < N; i++) S[i] ^= '(' ^ ')';
    }
    cout << ans << endl;
}

