#include<stdio.h>
#include<vector>
#include<algorithm>
#include<iostream>
#include<cmath>
#include<map>
#include<set>
#include<deque>
#include<bitset>
#include <numeric>
using namespace std;

int cnt = 0;

void merge(vector<int> &v,int left,int mid,int right){
  int n1 = mid - left;
  int n2 = right - mid;
  vector<int> l(n1+1);
  vector<int> r(n2+1);
  for(int i = 0; i < n1; i++){
    l.at(i) = v.at(left + i);
  }
  for(int i = 0; i < n2; i++){
    r.at(i) = v.at(mid + i);
  }
  l.at(n1) = 2000000000;
  r.at(n2) = 2000000000;
  int i = 0;
  int j = 0;
  for(int k = left; k < right; k++){
    cnt++;
    if(l.at(i) <= r.at(j)){
      v.at(k) = l.at(i);
      i++;
    }
    else{
      v.at(k) = r.at(j);
      j++;
    }
  }
}

void mergeSort(vector<int> &v, int left, int right){
  if(left + 1 < right){
    int mid = (left+right)/2;
    mergeSort(v,left,mid);
    mergeSort(v,mid,right);
    merge(v,left,mid,right);
  }
}

int main(){
  int n;
  scanf("%d",&n);
  vector<int> v(n);
  for(int i = 0; i < n; i++){
    scanf("%d",&v.at(i));
  }
  mergeSort(v,0,n);
  for(int i = 0; i < n; i++){
    printf("%d ",v.at(i));
  }
  printf("\n");
  printf("%d\n",cnt);
  
}
  
