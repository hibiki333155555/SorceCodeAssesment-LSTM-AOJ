#include <iostream>
#include <vector>
using namespace std;

vector<int> ls[110];
int n, b[110], e[110], tim = 0;
bool vis[110];

void dfs(int x)
{
	if(vis[x]) return ;
	vis[x] = true;
	tim++;
	b[x] = tim;
	for(int i = 0; i < ls[x].size(); i++)
	{
		dfs(ls[x][i]);
	}
	tim++;
	e[x] = tim;
	return ;
}

int main()
{
	cin >> n;
	for(int i = 0; i < n; i++)
	{
		int v, k;
		cin >> v >> k;
		for(int j = 0; j < k; j++)
		{
			int u;
			cin >> u;
			ls[v].push_back(u);
		}
	}
	for(int i = 1; i <= n; i++) if(!vis[i]) dfs(i);
	for(int i = 1; i <= n; i++)
	{
		cout << i << " " << b[i] << " " << e[i] << endl;
	}
	return 0;
}
