#include <iostream>
#include <string>
#include <vector>
#include <tuple>

using namespace std;

int main(int argc, char const *argv[])
{
  string s;
  getline(cin, s);

  vector<int> s1;
  vector<tuple<int,int>> s2;
  int prePop = - 1;
  for (int i = 0; i < s.length(); i++)
  {
    if (s[i] == '\\')
    {
      s1.push_back(i);
    }
    else if (s[i] == '/' && !s1.empty())
    {
      int j = s1[s1.size() - 1];
      s1.pop_back();
      int menseki = i - j;

      if (s2.empty()) s2.push_back(make_tuple(menseki, j));
      else
      {
        vector<tuple<int,int>> newS2;
        for (int i = 0; i < s2.size(); i++)
        {
          tuple<int,int> pair2 = s2[i];
          if (get<1>(pair2) < j)
          {
            newS2.push_back(pair2);
          }
          if (get<1>(pair2) > j)
          {
            menseki += get<0>(pair2);
          }
        }
        newS2.push_back(make_tuple(menseki, j));
        s2 = newS2;
      }
    }
  }

  int goukei = 0;
  for (int i = 0; i < s2.size(); i++)
  {
    goukei += get<0>(s2[i]);
  }
  cout << goukei << endl;
  cout << s2.size() << " ";
  
  for (int i = 0; i < s2.size(); i++)
  {
    if (i == s2.size()-1) cout << get<0>(s2[i]) << endl;
    else cout << get<0>(s2[i]) << " ";
  }
  

  return 0;
}

