#define _GLIBCXX_DEBUG
#include<iostream>
#include<stdio.h>
using namespace std;

int A[500000] = {},L[250000] = {},R[250000] = {}, n, cnt;

void merge(int left,int mid,int right){
    int n1=mid-left, n2=right-mid;
    
    for(int i=0;i<n1;i++)
        L[i] = A[i+left];
    
    for(int i=0;i<n2;i++)
        R[i] = A[i+mid];
    
    L[n1] = R[n2] = 2000000000;
    
    int i=0,j=0;
    
    for(int k=left;k<right;k++){
        cnt++;
        
        if(L[i] > R[j])
            A[k] = R[j++];
        else
            A[k] = L[i++];
    }
}

void mergeSort(int left,int right){
    if(left + 1 < right){
        int mid = (left + right)/2;
        
        mergeSort(left,mid);
        mergeSort(mid,right);
        
        merge(left,mid,right);
    }
}

int main(){
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        scanf("%d",&A[i]);
    
    mergeSort(0,n);
    
    for(int i=0;i<n;i++){
        if(i)
            printf(" ");
        printf("%d",A[i]);
    }
    
    cout<<endl;
    
    printf("%d\n",cnt);
}
