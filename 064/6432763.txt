#include<iostream>
using namespace std;

int A[300001];
int N;

bool check(){
    for ( int i = 0; i < N-1; i++){
        if ( A[i] > A[i+1]) return false;
    }
    return true;
}

int main(){
    int Q, x, y;
    cin >> N;
    for ( int i = 0; i < N; i++ ) cin >> A[i];
    cin >> Q;
    if ( check() ){
        cout << 0 << endl;
        return 0;
    }
    for ( int i = 1; i <= Q; i++){
        cin >> x >> y;
        swap(A[x-1], A[y-1]);
        if ( check() ) {
            cout << i << endl;
            return 0;
        }
    }
    cout << -1 << endl;
    return 0;

}

