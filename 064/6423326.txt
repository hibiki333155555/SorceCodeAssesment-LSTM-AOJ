#include<stdio.h>
#include<stdlib.h>
void mergeSort(int,int);
void merge(int,int,int);
int *A,*B,cnt=0;
int main(){
    int n;
    scanf("%d",&n);
    A=(int *)malloc(sizeof(int)*n);
    B=(int *)malloc(sizeof(int)*n);
    for(int i=0;i<n;i++)scanf("%d",A+i);
    mergeSort(0,n);
    for(int i=0;i<n;i++)printf("%d ",A[i]);
    printf("\n%d\n",cnt);
    free(A);free(B);
    return 0;
}
void mergeSort(int left,int right){
    int mid=(right+left)/2;
    if(left==right||left+1==right)return;
    mergeSort(left,mid);
    mergeSort(mid,right);
    merge(left,mid,right);
}
void merge(int left,int mid,int right){
    int i=left,j=mid,k=0;
    while(i<mid&&j<right){
        if(A[i]<A[j])B[k++]=A[i++];
        else B[k++]=A[j++];
        cnt++;
    }
    if(i==mid)while(j<right){B[k++]=A[j++];cnt++;}
    else while(i<mid){B[k++]=A[i++];cnt++;}
    for(i=0;i<k;i++)A[left+i]=B[i];
}
