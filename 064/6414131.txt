#include<stdio.h>
#include<stdlib.h>
#define MAX 500001

int H;

void maxHeapfy(int A[], int i)
{
  int l = 2 * i;
  int r = 2 * i + 1;
  int largest;
  int temp;

  if(l <= H && A[l] > A[i]) largest = l;
  else largest = i;

  if(r <= H && A[r] > A[largest]) largest = r;

  if(largest == i) return;
  else{
    temp = A[largest];
    A[largest] = A[i];
    A[i] = temp;
    maxHeapfy(A, largest);
  }
}


void buidMaxHeap(int A[])
{
  for(int i = H / 2; i > 0; i-- ){
    maxHeapfy(A, i);
  }
}

int main()
{
  int A[MAX];
  scanf("%d", &H);
  for(int i = 1; i <= H; i++ ) scanf("%d", &A[i]);

  buidMaxHeap(A);

  for(int i = 1; i <= H; i++ ){
    printf(" %d", A[i]);
  }

  return 0;

}



