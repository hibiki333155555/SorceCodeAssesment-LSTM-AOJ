#include<stdio.h>
int n,nof,a[300001];
int update(int ind,int nyu){
    if(a[ind-1]>a[ind]) nof--;
    if(a[ind]>a[ind+1]) nof--;
    a[ind]=nyu;
    if(a[ind-1]>a[ind]) nof++;
    if(a[ind]>a[ind+1]) nof++;
    return 0;
}

int run(){
    int q,x,y;
    nof=0;
    scanf("%d",&q);
    for(int i=0;i<n-1;i++){
        if(a[i]>a[i+1]) nof++;
    }
    if(nof==0) return 0;
    int to,tt;
    for(int i=1;i<=q;i++){
        scanf("%d %d",&x,&y);
        to=a[x-1];
        tt=a[y-1];
        update(x-1,tt);
        update(y-1,to);
        if(nof==0) return i;
    }
    return -1;
}

int main(void){
    scanf("%d",&n);
    for(int i=0;i<n;i++){
        scanf("%d",&a[i]);
    }
    printf("%d\n",run());
    return 0;
}
