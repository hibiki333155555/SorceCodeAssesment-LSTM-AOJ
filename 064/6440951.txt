#include <bits/stdc++.h>
#define ll long long
#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)
using namespace std;


int main(){
	int n;
	cin >> n;
	vector < vector < ll > > v(n);
	ll q;
	cin >> q;
	
	while(q--){
		int c;
		cin >> c ;
		if(c == 0){
			int t; ll x;
			cin >> t >> x;
			v[t].push_back(x);
		} else if(c == 1) {
			int t, i;
			cin >> t;
			if(v[t].size() == 0){
				cout << '\n';
			} else {
				for(i = 0 ; i < v[t].size() ; i++){
					if(i == v[t].size() - 1) cout << v[t][i];
					else cout << v[t][i] << ' ';
				}
				cout << '\n';
			}
		} else {
			int t;
			cin >> t;
			if(v[t].size() != 0)
				v[t].pop_back();
		}
		//cout << '\n' << '\n';
	}	
    return 0;
}

