#include <iostream>
#include <complex>
#include <map>
#include <set>
#include <stack>
#include <vector>

using namespace std;

void f(vector<pair<int, int>>& R, const vector<pair<int, int>>& P)
{
	for (int i = 0, j = i + 1; j < (int) P.size(); i = j, j = i + 1) {
		double x = P[i].first, y = P[i].second, G = (P[j].first - x) / (P[j].second - y);
		for (int k = i + 2; k < (int) P.size(); ++k) {
			double g = (P[k].first - x) / (P[k].second - y);
			if (G >= g) continue;
			G = g;
			j = k;
		}
		R.push_back(P[j]);
	}
}

int main()
{
	int n, x, y;
	map<int, set<int>> YX;
	for (cin >> n >> x >> y; n > 0; --n, cin >> x >> y) YX[y].insert(x);
	vector<pair<int, int>> P, R;
	stack<pair<int, int>> S;
	for (const auto& [y, X] : YX) {
		P.emplace_back(*X.begin(), y);
		S.emplace(*X.rbegin(), y);
	}
	y = P[0].second;
	for (int x : YX[y]) R.emplace_back(x, y);
	f(R, P);
	for (P.clear(); !S.empty(); S.pop()) P.push_back(S.top());
	y = P[0].second;
	R.pop_back();
	for (auto p = YX[y].crbegin(); p != YX[y].crend(); ++p) R.emplace_back(*p, y);
	f(R, P);
	R.pop_back();
	cout << R.size() << endl;
	for (auto [x, y] : R) cout << x << ' ' << y << endl;
	return 0;
}

