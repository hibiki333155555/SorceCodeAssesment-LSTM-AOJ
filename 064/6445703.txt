#include<bits/stdc++.h>
using namespace std;

#define int long long
//#define lson (rt<<1)
//#define rson ((rt<<1)+1)
//#define mid ((l+r)>>1)
#define mst(a) memset(a,0,sizeof(a))
#define cf int Tcodeforces, Tcodeforce;cin>>Tcodeforces;for(Tcodeforce = 1; Tcodeforce <= Tcodeforces; Tcodeforce++)
typedef long long ll;
typedef unsigned long long ull;
const ll maxn = 2e5 +7;
const ll maxm = 2e5 +7;
const ll inf = 0x3f3f3f3f;
const ll mod = 1e9 +7;

int n, H;
int left(int x) {return x << 1;}
int right(int x) {return (x << 1) + 1;}
void maxHeapify(int A[], int i) {
    int l = left(i);
    int r = right(i);
    int largest = -inf;
    if(l <= H && A[l] > A[i])
        largest = l;
    else {
        largest = i;
    }
    if(r <= H && A[r] > A[largest]) {
        largest = r;
    }
    if(largest != i) { // value of children is larger than that of i
        int t = A[i];
        A[i] = A[largest];
        A[largest] = t;
        maxHeapify(A, largest);
    }
}
void buildMaxHeap(int A[]) {
    for(int i = H / 2; i; i--) {
        maxHeapify(A, i);
    }
}

int a[maxn];

signed main() {
    #ifdef moyi_qwq
        freopen("D:/source file/intxt/in.txt","r",stdin);
    #endif
    
    cin>>n;
    for(int i = 1; i <= n; i++) cin>>a[i];
    buildMaxHeap(a);
    for(int i = 1; i <= n; i++) cout<<a[i]<<" ";
    
    
    //cerr<<"Time : "<<1000*((double)clock())/(double)CLOCKS_PER_SEC<<"ms";
    return (0);
}

