#include<stdio.h>
#define MAX 25
#define NIL -1

typedef struct Node{
  int p;
  int l;
  int r;
}Node;

Node T[MAX];

void preorder(int root){
  if(root == NIL) return;
  printf(" %d", root);
  preorder(T[root].l);
  preorder(T[root].r);
}

void Inorder(int root){
  if(root == NIL) return;
  Inorder(T[root].l);
  printf(" %d", root);
  Inorder(T[root].r);
}

void Postorder(int root){
  if(root == NIL) return;
  Postorder(T[root].l);
  Postorder(T[root].r);
  printf(" %d", root);
}

int main()
{
  int n, id, l, r;
  int root;
  scanf("%d", &n);

  for(int i = 0; i < n; i++ ) T[i].p = NIL;

  for(int i = 0; i < n; i++ ){
    scanf("%d %d %d", &id, &l, &r);
    T[id].l = l;
    T[id].r = r;
    if(l != NIL) T[l].p = id;
    if(r != NIL) T[r].p = id; 
  }

  for(int i = 0; i < n; i++ ){
    if(T[i].p == NIL) root = i;
  }

  printf("Preorder\n");
  preorder(root);
  printf("\n");

  printf("Inorder\n");
  Inorder(root);
  printf("\n");

  printf("Postorder\n");
  Postorder(root);
  printf("\n");
  
  return 0;
}
