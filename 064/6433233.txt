#include <bits/stdc++.h>
using namespace std;

int main(void){
    int N;
    cin >> N;
    vector<int> a(N);
    for(int i = 0; i < N; i++) cin >> a[i];
    int Q;
    cin >> Q;
    vector<int> x(Q), y(Q);
    for(int i = 0; i < Q; i++) cin >> x[i] >> y[i];

    vector<int> ans(N);
    ans = a;
    sort(ans.begin(),ans.end());
    if(a == ans){
        cout << 0 << endl;
        return 0;
    }

    for(int i = 0; i < Q; i++){
        swap(a[x[i]-1], a[y[i]-1]);
        if(a == ans){
            cout << i+1 << endl;
            return 0;
        }
    }
    cout << -1 << endl;
    return 0;
}
