#include <stdio.h>

void shellsort(int *, int);
void insertionsort(int *, int, int);

int cnt=0;

int main(){
    int n, A[1000000], i;

    scanf("%d", &n);
    for(i=0; i<n; i++) scanf("%d", &A[i]);

    shellsort(A, n);
    for(i=0; i<n; i++) printf("%d\n", A[i]);

    return 0;
}

void shellsort(int *A, int n){
    int m, G[100], i;

    G[0] = 1;
    for(i=0; 3*G[i] + 1 < n; i++){
        G[i+1] = 3*G[i] + 1;
    }
    m = i+1;

    printf("%d\n", m);
    for(i=m-1; i>0; i--) printf("%d ", G[i]);
    printf("%d\n", G[0]);

    for(i=m-1; i>=0; i--) insertionsort(A, n, G[i]);
    printf("%d\n", cnt);
}

void swap(int *x,int *y){
  int temp;
  temp = *x;
  *x = *y;
  *y = temp;
}


void insertionsort(int *A, int n, int g){
    int v, i, j;

    for(i=g; i<n; i++){
        v = A[i];
        j = i-g;
        while(j>=0 && A[j] > v){
	  swap(&A[j+g],&A[j]);
            j -= g;
            cnt++;
        }        
    }
}

