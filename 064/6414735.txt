//#include "KowerKoint/base.hpp"

/* #include <atcoder/all> */
/* using namespace atcoder; */
/* #include "KowerKoint/expansion/ac-library/all.hpp" */

#include <bits/stdc++.h>
using namespace std;
#define REP(i, n) for(int i = 0; i < (int)(n); i++)
using ll = long long;
using VL = vector<ll>;

void solve(){
    int n; cin >> n;
    string s; cin >> s;
    VL a(n);
    REP(i, n) cin >> a[i];
    ll ans = 0;
    REP(_, 2) {
        priority_queue<ll, VL, greater<ll>> pq;
        int cur = 0;
        REP(i, n) {
            if(_ == 0 && s[i] == '(' || _ == 1 && s[i] == ')') {
                cur++;
            } else {
                pq.push(a[i]);
                cur--;
                if(cur < 0) {
                    ans += pq.top(); pq.pop();
                    cur += 2;
                }
            }
        }
        reverse(s.begin(), s.end());
        reverse(a.begin(), a.end());
    }
    cout << ans << '\n';
}

// generated by oj-template v4.7.2 (https://github.com/online-judge-tools/template-generator)
int main() {
    // Fasterize input/output script
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cout << fixed << setprecision(100);
    // scanf/printf user should delete this fasterize input/output script

    int t = 1;
    //cin >> t; // comment out if solving multi testcase
    for(int testCase = 1;testCase <= t;++testCase){
        solve();
    }
    return 0;
}

