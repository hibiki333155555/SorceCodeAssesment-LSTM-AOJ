#include <stdio.h>

int main(void){
    int i,j,n,flg;
    int input[16]={0},ctr[128];
    
    while(1){
        i=0; j=0;
        scanf("%d",&n);
        if(n==0) break;
        for(i=0;i<n;i++){
            scanf("%d",&input[i]);
        }
        
        while(j<100){
            flg=0;
            for(i=0;i<128;i++){
                ctr[i]=0;
            }
            
            for(i=0;i<n;i++){
                ctr[input[i]]++;
            }
            for(i=0;i<n;i++){
                if(input[i]==ctr[input[i]]) {flg+=i;}
                else {input[i]=ctr[input[i]];}
            }
            
            j++;
            
            if(flg==(n-1)*n/2) break;
        }
        
        printf("%d\n",j-1);
        for(i=0;i<n;i++){
            printf("%d",input[i]);
            if(i<n-1) printf(" ");
        }
        puts("");
    }
    
    return 0;
}
