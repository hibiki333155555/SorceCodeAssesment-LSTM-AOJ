#include<bits/stdc++.h>
using namespace std;
using ll=long long;
struct human{
	ll a;
	ll b;
	ll c;
};
int main(){
	ll n,m;
	cin>>n>>m;
	vector<ll> v(m+1,0);
	vector<vector<ll>> a(m);
	vector<human> s(n);
	for(int i=0;i<n;i++){
		cin>>s[i].c>>s[i].a>>s[i].b;
		s[i].a--;
		s[i].b;
		v[s[i].a]+=s[i].c;
		v[s[i].b]-=s[i].c;
		a[s[i].a].push_back(i);
	}
	ll q;
	cin>>q;
	vector<ll> d(m,0);
	for(int i=0;i<q;i++){
		ll x,y;
		cin>>y>>x;
		x--;
		d[x]+=y;
	}
	ll ans=0;
	ll now=0;
	ll x=-1;//最も奥まで伸びてるやつの奥
	ll y=-1;//それのインデックス
	for(int i=0;i<m;i++){
		now+=v[i];
		if(now==0&&d[i]>0){
			cout<<-1<<endl;
			return 0;
		}
		if(d[i]==0) continue;
		if(now>=d[i]) continue;
		ll z=d[i]-now;
		ans+=z;
		now+=z;
		for(int j=0;j<a[i].size();j++){
			if(x<s[a[i][j]].b){
				x=s[a[i][j]].b;
				y=a[i][j];
			}
		}
		v[x]-=z;
	}
	cout<<ans<<endl;
}
