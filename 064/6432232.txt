#include <bits/stdc++.h>
using namespace std;

#define ll     long long
#define ull    unsigned long long
#define YES    cout << "YES\n"
#define NO     cout << "NO\n"
#define nn     cout<<endl;
#define LL_INF (1LL << 62)
#define INF    (1 << 30)
#define mod    1000000007
#define N7     10000007
#define N5     100005
#define hakuna ios_base::sync_with_stdio(false);
#define matata cin.tie(NULL);

int main(){
    hakuna matata
    ll n,t; cin>>n>>t;
    queue<ll> vc[n];
    while(t--){
        ll q; cin>>q;
        if(q==0){
            ll a,b; cin>>a>>b;
            vc[a].push(b);
        }
        else{
            ll a;
            cin>>a;
            if(q==1){
                ll size = vc[a].size();
                if(size>0){
                    cout<<vc[a].front();nn;
                }
            }
            else if(q==2){
                vc[a].pop();
            }
        }
    }
    return 0;
}
