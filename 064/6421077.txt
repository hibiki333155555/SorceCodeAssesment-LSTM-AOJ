#include <stdio.h>
#include <bits/stdc++.h>
using namespace std;
#define rep(i,n) for(int i=0;i<(n);i++)
#define Inf 1000000001

int main(){
	
	int H,W;
	cin>>H>>W;
	
	vector<string> s(H);
	rep(i,H)cin>>s[i];
	
	int sx,sy,gx,gy;
	rep(i,H){
		rep(j,W){
			if(s[i][j]=='S')sx = i,sy = j;
			if(s[i][j]=='V')gx = i,gy = j;
		}
	}
	
	vector<vector<int>> n(H,vector<int>(W,Inf));
	rep(i,H){
		rep(j,W){
			if(s[i][j]=='#')n[i][j] = 0;
		}
	}
	int M;
	cin>>M;
	rep(i,M){
		int a,b,c;
		cin>>a>>b>>c;
		n[a-1][b-1] = c;
	}
	/*
	rep(i,H){
		rep(j,W){
			cout<<n[i][j]<<',';
		}
		cout<<endl;
	}
	*/
	vector d(H,vector(W,vector<int>(2,Inf)));
	d[sx][sy][0] = 0;
	queue<pair<pair<int,int>,int>> Q;
	Q.emplace(make_pair(sx,sy),0);
	
	vector<int> dx = {0,-1,0,1},dy = {1,0,-1,0};
	while(Q.size()>0){
		int x = Q.front().first.first;
		int y = Q.front().first.second;
		int z = Q.front().second;
		Q.pop();
		rep(i,4){
			int tx = x + dx[i],ty = y+dy[i];
			int tz = z;
			
			if(tx==gx&&ty==gy)tz = 1;
			if(tx<0||tx>=H||ty<0||ty>=W)continue;
			if(n[tx][ty]<=d[x][y][z]+1)continue;
			
			if(d[x][y][z]+1<d[tx][ty][tz]){
				d[tx][ty][tz] = d[x][y][z]+1;
				
				Q.emplace(make_pair(tx,ty),tz);
			}
		}
	}
	/*
	rep(i,H){
		rep(j,W){
			cout<<d[i][j][1]<<',';
		}
		cout<<endl;
	}
	*/
	
	int ans= d[sx][sy][1];
	if(ans==Inf)cout<<"No"<<endl;
	else cout<<"Yes"<<endl;
	//cout<<ans<<endl;
			
	
	
	return 0;
}
