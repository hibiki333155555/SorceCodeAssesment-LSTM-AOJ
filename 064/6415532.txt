//問題文の定式化を使わない。人iの最終位置をp_iとすると、p_i <= i + A_i - 1を満たせばよい。
//i + A_i - 1が小さい方から決めていくと、単純な掛け算の形になる。
#include <iostream>
#include <algorithm>
#define rep(i, n) for(i = 0; i < n; i++)
#define int long long
using namespace std;

int mod = 998244353;
int n;
int a[100000];
int score[100000];

signed main() {
	int i;
	
	cin >> n;
	rep(i, n) cin >> a[i];
	rep(i, n) score[i] = i + a[i];
	sort(score, score + n);
	
	int ans = 1;
	rep(i, n) {
		if (score[i] - i <= 0) { cout << 0 << endl; return 0; }
		ans *= score[i] - i;
		ans %= mod;
	}
	
	cout << ans << endl;
	return 0;
}
