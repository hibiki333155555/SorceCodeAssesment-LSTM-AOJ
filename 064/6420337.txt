#include<iostream>
#include<vector>
int cnt=0;

void insection_sort(int *arr,int n,int g){
    for(int i=g;i!=n;++i){
        int v=arr[i];
        int j=i;
        while(j-g>=0&&arr[j-g]>v){
            arr[j]=arr[j-g];
            ++cnt;
            j-=g;
        }
        arr[j]=v;
    }
}

void shell_sort(int * arr,int n){
    std::vector<int> gap;
    for(int g=1;g<n;g=g*3+1){
        gap.push_back(g);
    }
    int m=gap.size();
    std::cout<<m<<std::endl;
    for(int i=m-1;i>=0;--i){
        insection_sort(arr,n,gap[i]);
        std::cout<<gap[i];
        if(i)
            std::cout<<" ";
        else
            std::cout<<std::endl;
    }
    std::cout<<cnt<<std::endl;
    for(int i=0;i!=n;++i){
        std::cout<<arr[i]<<std::endl;
    }
}

int main(){
    int n ;
    std::cin>>n;
    int * arr= new int [n]();
    for(int i=0;i!=n;++i){
        std::cin>>arr[i];
    }
    shell_sort(arr,n);
}


