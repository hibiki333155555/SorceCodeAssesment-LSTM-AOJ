#include <algorithm>
#include <iostream>
using namespace std;
typedef long long ll;
typedef pair<int, int> P;

int main()
{
    int n, m;
    cin >> n >> m;
    int a[100005], b[100005], c[100005];
    P p[100005];
    for(int i = 0; i < n; i++){
        cin >> a[i] >> b[i] >> c[i];
        b[i]--;
        p[i] = P(b[i], i);
    }
    sort(p, p + n);
	int q;
	cin >> q;
    ll x[100005]{0};
    for(int i = 0; i < q; i++){
        int d, e;
        cin >> d >> e;
        e--;
        x[e] += d;
    }
    ll s[100005]{0};
    for(int i = 0; i < n; i++){
        s[b[i]] += a[i];
        s[c[i]] -= a[i];
    }
    int j = 0;
    int r = -1;
    ll t = 0;
    ll ans = 0;
    for(int i = 0; i < m; i++){
        t += s[i];
        while(j < n && p[j].first == i) r = max(r, c[p[j++].second]);
        if(x[i] > t){
			if(r < i){
				cout << -1 << endl;
				return 0;
			}
            ll d = x[i] - t;
            s[r] -= d;
            t += d;
            ans += d;
        }
    }
    cout << ans << endl;
}

