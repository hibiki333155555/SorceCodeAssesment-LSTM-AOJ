#include<iostream>
using namespace std;
static const int INF = 2000000000;
int n, a[300002], x;

void update(int i, int v)
{
    if(a[i-1] > a[i]) x--;
    if(a[i] > a[i+1]) x--;
    a[i] = v;
    if(a[i-1] > a[i]) x++;
    if(a[i] > a[i+1]) x++;
}

int sort()
{
    x = 0;
    for(int i = 1; i <= n; i++){
        if(a[i-1] > a[i]) x++;
    }

    if(x == 0) return 0;

    int q;
    cin >> q;

    for(int i = 1; i <= q; i++){
        int y, z;
        cin >> y >> z;
        int v1 = a[y];
        int v2 = a[z];
        update(y, v2);
        update(z, v1);
        if(x == 0)return i;
    }

    return -1;
}

int main(){
    cin >> n;
    for(int i = 1; i <= n; i++){
        cin >> a[i];
    }
    a[0] = -INF;
    a[n+1] = INF;
    cout << sort() << endl;
    return 0;
}
