#include <iostream>
#include <cstdio>

using namespace std;

void printArray(int *nums, int size)
{
  for (int i = 0; i < size; i++)
  {
    if (i != size - 1) cout << nums[i] << " ";
    else cout << nums[i] << endl;
  }
}

int insertionSort(int *nums, int size, int g, int count)
{
  for (int i = 0; i < size; i++)
  {
    int a = nums[i];
    int j = i - g;
    while (j >= 0 && a < nums[j])
    {
      nums[j+g] = nums[j];
      j -= g;
      count++;
    }
    nums[j+g] = a;
  }

  return count;
}

void shellSort(int *nums, int size)
{
  int count = 0;
  int result = 0;
  int m = 2;
  int G[] = {4, 1};

  cout << m << endl;
  printArray(G, m);

  for (int i = 0; i < m; i++)
  {
    result = insertionSort(nums, size, G[i], count);
  }
  
  cout << result << endl;
}

int main(int argc, char const *argv[])
{
  int n;

  cin >> n;
  int *nums = new int[n];

  for (int i = 0; i < n; i++)
  {
    cin >> nums[i];
  }

  shellSort(nums, n);

  for (int i = 0; i < n; i++)
  {
    cout << nums[i] << endl;
  }

  return 0;
}

