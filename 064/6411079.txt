#include <iostream>
using namespace std;
const int N = 100010;
int n;
int a[N];
int f (int p,int r) {
	int x = a[r];
	int i = p-1;
	for (int j = p;j < r;j++) {
		if (a[j] <= x) {
			i++;
			swap (a[i],a[j]);
		}
	}
	swap (a[i+1],a[r]);
	return i+1;
}
int main () {
	cin >> n;
	for (int i = 1;i <= n;i++) cin >> a[i];
	int k = f (1,n);
	for (int i = 1;i <= n;i++) {
		if (i-1) cout << ' ';
		if (i == k) cout << '[';
		cout << a[i];
		if (i == k) cout << ']';
	}
    return 0;
}
