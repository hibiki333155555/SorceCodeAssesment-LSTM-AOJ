#include <stdio.h>

#define white 1
#define gray 2
#define black 3
#define N 100

int color[N];
int G[N][N];
int n;
int time_start[N];
int time_end[N];
int time;

void dfs(int u) {
  color[u] = gray;

  time_start[u] = time++;

  for (int i = 0; i < n; i++) {
    if (G[u][i] != 0 && color[i] == white) {
      dfs(i);
    }
  }
  color[u] = black;
  time_end[u] = time++;
}

int main(void) {
  scanf("%d", &n);
  for (int i = 0; i < n; i++) {
    int to, m;
    scanf("%d %d", &to, &m);
    for (int k = 0; k < m; k++) {
      int v;
      scanf("%d", &v);
      G[to - 1][v - 1] = 1;
    }
  }
  for (int i = 0; i < n; i++) {
    color[i] = white;
  }

  for (int i = 0; i < n; i++) {
    if (color[i] == white) {
      dfs(i);
    }
  }

  for (int i = 0; i < n; i++) {
    printf("%d %d %d\n", i + 1, time_start[i] + 1, time_end[i] + 1);
  }
}

