#include<stdio.h>
#define MAX 10000

int n;
int par[MAX], rank[MAX];

void init(){
  for(int i = 0; i < n; i++ ){
    par[i] = i;
    rank[i] = 0;
  }
}

void link(int x, int y){
  if(rank[x] > rank[y]){
    par[y] = x;
  }else{
    par[x] = y;
    if(rank[x] == rank[y]) rank[y]++;
  }
}

int findSet(int x){
  if(par[x] != x){
    par[x] = findSet(par[x]);
  }
  return x;
}

int same(int x, int y){
  return findSet(x) == findSet(y);
}

void unite(int x, int y){
  link(findSet(x), findSet(y));
}

int main()
{  
  int q, x, y, com;
  scanf("%d %d", &n, &q);
  init();
  for(int i = 0; i < q; i++ ){
    scanf("%d %d %d", &com, &x, &y);
    //unite
    if(com == 0){
      unite(x, y);
    }else{
      if(same(x, y)) printf("1\n");
      else printf("0\n");
    }
  }

  return 0;
}
