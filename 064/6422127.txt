#include <stdio.h>

int main(void)
{
	int cnt;
	int m;
	int g[100];
	int i;
	int n;
	int j;
	int num[1000000];
	int v;
	int k;

	i = -1;
	scanf("%d", &n);
	while (++i < n)
		scanf("%d", num + i);
	cnt = 0;
	i = -1;
	while (++i * 3 + 1 < n)
		g[i] = 3 * i + 1;
	m = i + 1;
	printf("%d", m);
	while (--m > 0)
	{
		j = g[m];
		printf("%d", j);
		while (j < n)
		{
			v = num[i];
			k = j - g[m];
			while (k >= 0 && num[k] > v)
			{
				num[k + g[m]] = num[k];
				k = k - g[m];
				cnt++;
			}
			num[j + g[m]] = v;
		}
	}
	j = -1;
	printf("\n%d\n", cnt);
	while (++j < n)
		printf("%d\n", num[j]);
	return (0);

}
