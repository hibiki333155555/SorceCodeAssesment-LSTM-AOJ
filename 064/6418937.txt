#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <cstdlib>
#include <string>
#include <queue>
#include <vector>
#include <stack>
#include <map>
#include <utility>
#define cs cout << "Wish You AC!" << endl;
#define js ios::sync_with_stdio(false); cin.tie(0);
#define MEM(a,x) memset(a,x,sizeof(a))
#define lowbit(x) (x&-x)
#define lson(x) x*2
#define rson(x) x*2 + 1
#define ll long long
#define ull unsigned long long
#define debug(x) std::cout << #x << " is " << (x) << '\n'
#define INF 1e14
#define pb push_back
#define pii pair<ll, ll>
using namespace std;
inline void read(ll &x){
    char c; int flag=0;
    while(!isdigit(c=getchar()))
        if(c=='-') flag=1;
    x=c-'0';
    while(isdigit(c=getchar()))
        x=x*10+c-'0';
    if(flag) x=-x;
}
const int N = 1e5 + 10;
ll f[N];
ll get(ll x) { return f[x] == x ? f[x] : f[x] = get(f[x]); }
int main()
{
    ll n, q;
    cin >> n >> q;
    for(int i = 0; i < n; i++) f[i] = i;
    while(q--)
    {
        ll op, x, y;
        cin >> op >> x >> y;
        if(op){
            if(get(x) == get(y))
                cout << "1" << endl;
            else cout << 0 << endl;
        }
        else{
            ll u = get(x); ll v = get(y);
            if(u != v){
                f[u] = v;
                //get(x); get(y);
            }
        }
    }
    return 0;
}
