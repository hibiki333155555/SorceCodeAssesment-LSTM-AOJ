#include <iostream>
//#include<queue>
//#include <iomanip>
//#include<math.h>
//#include<map>
//#include <utility>

using namespace std;

//構造体
struct Node{
    //初期設定
    Node(){
        parent = -1;
        depth = num_of_children = 0;
    }
    int parent;
    int depth;
    vector<int> children;
    int num_of_children;
};

int main(){
    int n,id,k,child_id,root_id;
    cin >> n;
    vector<Node>tree(n);
    for (int i = 0;i < n; i++){
        cin >> id >> k;
        tree[id].num_of_children = k;
        for (int j = 0; j < k; j++){
            cin >> child_id;
            tree[id].children.push_back(child_id);
            tree[child_id].parent = id;
            tree[child_id].depth = tree[id].depth + 1;
        }
    }
    for (int i = 0; i < n; i++){
        cout << "node " << i <<
        ": parent = " << tree[i].parent <<
        ", depth = " << tree[i].depth << ", ";
        if (tree[i].depth == 0) {
            cout << "root, ";
        }else if(tree[i].num_of_children == 0){
            cout << "leaf, ";
        }else{
            cout << "internal node, ";
        }
        cout << "[";
        for (int j = 0; j < tree[i].num_of_children; j++){
            cout << tree[i].children[j];
            if (j != tree[i].num_of_children - 1) cout << ", ";
        }
        cout << "]" << endl;
    }
    
}


