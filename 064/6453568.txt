#include <bits/stdc++.h>
using namespace std;

void BubbleSort(vector<string> a, int n){
  for(int i = 0; i < n; i++){
    for(int j = n - 1; j > i; j--){
      if(a[j].at(1) < a[j-1].at(1)) swap(a[j], a[j-1]);
    }
  }
  for(int i = 0; i < n; i++){
    if(i == n-1) cout << a[i] << endl;
    else cout << a[i] << " ";
  }
}

void SelectionSort(vector<string>a, int n){
  for(int i = 0; i < n; i++){
    int minj = i;
    for(int j = i; j < n; j++){
      if(a[j].at(1) < a[minj].at(1)){
        minj = j;
      }
    }
    swap(a[i], a[minj]);
  }

  for(int i = 0; i < n; i++){
    if(i == n-1) cout << a[i] << endl;
    else cout << a[i] << " ";
  }
}

int main(){
  int n;
  cin >> n;
  vector<string> a(n), b(n);
  for(int i = 0; i < n; i++) cin >> a.at(i);
  for(int i = 0; i < n; i++) b.at(i) = a.at(i);
  BubbleSort(a, n);
  cout << "Stable" << endl;
  SelectionSort(b, n);
  
  bool stable = true;
  for(int i = 0; i < n; i++){
    if(a[i] != b[i]) stable = false;
  }
  if(stable) cout << "Stable" << endl;
  else cout << "Not Stable" << endl;

  return 0;
}
