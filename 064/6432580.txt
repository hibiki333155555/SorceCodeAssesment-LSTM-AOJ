#include <iostream>
using namespace std;
#define MAX 100005
#define NIL -1

struct Node {int  parent,left ,right;};

Node T[MAX];
void preorder(int u){
    if(u==NIL)return;
    cout<<" "<<u;
    preorder(T[u].left);
    preorder(T[u].right);
}
void Inorder(int u){
    if(u==NIL) return;
    Inorder(T[u].left);
    cout<<" "<<u;
    Inorder(T[u].right);
}
void Postorder(int u){
    if(u==NIL)return;
    Postorder(T[u].left);
    Postorder(T[u].right);
    cout<<" "<<u;
}
void print_Node(int u){
    cout<<"["<<u<<"]"<<T[u].parent<<"|"<<T[u].left<<" "<<T[u].right<<endl;
}


int main(){
    int n,v,d,l,r,c;
    cin>>n;
    for(int i=0;i<n;i++)T[i].parent=NIL;
    for(int i=0;i<n;i++){
        cin>>v>>l>>r;
        T[v].left=l;
        T[v].right=r;
        if(l!=NIL)T[l].parent=v;
        if(r!=NIL)T[r].parent=v;
    }
    
    for(int i=0;i<n;i++){
        if(T[i].parent==NIL)r=i;
    }
    cout<<"Preorder"<<endl;
    preorder(r);
    cout<<endl<<"Inorder"<<endl;
    Inorder(r);
    cout<<endl<<"Postorder"<<endl;
    Postorder(r);
    cout<<endl;
   

    return 0;
}
