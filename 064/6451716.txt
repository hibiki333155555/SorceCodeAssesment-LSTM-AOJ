#include <iostream>
#include <vector>
#include <stdio.h>

using namespace std;

typedef long long ll;
//typedef int ll;

struct Node{
    Node(){
        left_child = right_child = NULL;
        data = 0;
    };
    Node *left_child,*right_child;
    ll data;
};

class Tree{
public:
    Tree(){
        root = new Node();
        num_of_node = 0;
    }
    bool find(ll find_data){
        if (num_of_node == 0){
            return false;
        }else{
            Node* tmp = root;
            while(true){
                if (tmp->data < find_data){
                    if (tmp->right_child == NULL){
                        return false;
                    }else{
                        tmp = tmp->right_child;
                    }
                }else if(tmp->data > find_data){
                    if (tmp->left_child == NULL){
                        return false;
                    }else{
                        tmp = tmp->left_child;
                    }
                }else{
                    return true;
                }
            }
        }
    }
    void insert(ll insert_data){
        if (num_of_node == 0){
            root->data = insert_data;
            num_of_node++;
        }else{
            Node* tmp = root;
            while(true){
                if (tmp->data < insert_data){
                    if (tmp->right_child == NULL){
                        tmp->right_child = new Node();
                        tmp->right_child->data = insert_data;
                        break;
                    }else{
                        tmp = tmp->right_child;
                    }
                }else{
                    if (tmp->left_child == NULL){
                        tmp->left_child = new Node();
                        tmp->left_child->data = insert_data;
                        break;
                    }else{
                        tmp = tmp->left_child;
                    }
                }
            }
        }
    }
    void print(){
        inORDER(root);
        cout << endl;
        preORDER(root);
        cout << endl;
    }
private:
    Node* root;
    int num_of_node;

    void preORDER(Node* node){
        cout << " " << node->data;
        if (node->left_child != 0) preORDER(node->left_child);
        if (node->right_child != 0) preORDER(node->right_child);
    }
    void inORDER(Node* node){
        if (node->left_child != 0) inORDER(node->left_child);
        cout << " " << node->data;
        if (node->right_child != 0) inORDER(node->right_child);
    }
};

int main(){
    int m;
    ll data;
    string str;
    Tree tree;
    cin >> m;
    for (int i = 0; i < m; i++){
        cin >> str;
        if (str == "insert"){
            cin >> data;
            tree.insert(data);
        }else if (str == "print"){
            tree.print();
        }else{  //find
            cin >> data;
            if (tree.find(data)){
                cout << "yes" << endl;
            }else{
                cout << "no" << endl;
            }
        }
    }
}



