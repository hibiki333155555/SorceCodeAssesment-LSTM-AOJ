#include<bits/stdc++.h>
using namespace std;
int main()
{
    int n,q;
    queue<int>que[1001];
    cin>>n>>q;
    while (q--)
    {
        int a;
      cin>>a;
      if(a==0)
      {
          int t,x;
          cin>>t>>x;
          que[t].push(x);
      }
      else if(a==1)
      {
          int t,pnt;
          cin>>t;
          
          if(que[t].empty()!=true)
          {
              pnt=que[t].front();
              cout<<pnt<<endl;
          }
          
          
      }

    else
    {
        int t;
        cin>>t;
        if(que[t].empty()!=true)
        {
             que[t].pop();
        }
        
    }

    }
    

}
