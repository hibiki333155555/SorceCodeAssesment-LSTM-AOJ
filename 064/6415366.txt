#include<iostream>
#include<algorithm>
#include<queue>
#include<cstring>
using namespace std;
const int N = 500005;
int n;
int heap[N];

void maxHeapify(int now) {
	int l = now<<1;
	int r = (now << 1) + 1;
	int maxx = -1;
	if(l <= n && heap[l] > heap[now])
		maxx = l;
	else
		maxx = now;
	if(r<=n && heap[r] > heap[maxx])
		maxx = r;
	if(maxx != now) {
		swap(heap[maxx],heap[now]);
		maxHeapify(maxx);
	}
}

void buildMaxHeap() {
	for(int i=n/2;i>=1;i--)
		maxHeapify(i);
}

int main() {
	cin>>n;
	for(int i=1;i<=n;i++)
		cin>>heap[i];
	buildMaxHeap();
	for(int i=1;i<=n;i++)
		cout<<heap[i]<<" ";
}
