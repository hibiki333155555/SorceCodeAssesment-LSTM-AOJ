#include<bits/stdc++.h>
#define ll long long

using namespace std ;

int main()
{
     ll n , q ;
     cin>> n>> q ;

     queue< ll > qq[n];

     while(q--){
        ll st , t ;

        cin>> st>> t ;

        if(st ==0){
            ll val ;
            cin>> val ;
            qq[t].push(val);
        }
        else if(st == 1){
            if(! qq[t].empty()){
                cout<< qq[t].front()<< endl ;
            }
        }
        else if(st ==2){
            if(!qq[t].empty()){
                qq[t].pop();
            }
        }
     }
}


