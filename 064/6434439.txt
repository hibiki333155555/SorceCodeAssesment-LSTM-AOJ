#include <bits/stdc++.h>
using namespace std;

int main(void){
    int N;
    cin >> N;
    vector<int> a(N);
    for(int i = 0; i < N; i++) cin >> a[i];
    int Q;
    cin >> Q;
    vector<int> x(Q), y(Q);
    for(int i = 0; i < Q; i++){
        cin >> x[i] >> y[i];
        x[i]--; y[i]--;
    }

    vector<int> sorted(N);
    sorted = a;
    sort(sorted.begin(), sorted.end());
    vector<bool> check(N,true);

    int cnt = 0;
    for(int i = 0; i < N; i++){
            if(a[i] != sorted[i]){
                cnt++;
                check[i] = false;
            }
    }

    if(cnt == 0){
        cout << 0 << endl;
        return 0;
    }

    for(int i = 0; i < Q; i++){
        swap(a[x[i]], a[y[i]]);
        if(a[x[i]] == sorted[x[i]] && !check[x[i]]){ cnt--; check[x[i]] = true;}
        if(a[y[i]] == sorted[y[i]] && !check[y[i]]){cnt--; check[y[i]] = true;}
        if(a[x[i]] != sorted[x[i]] && check[x[i]]){ cnt++; check[x[i]] = true;}
        if(a[y[i]] != sorted[y[i]] && check[y[i]]){ cnt++; check[y[i]] = true;}
        
        if(cnt == 0){
            cout << i+1 << endl;
            return 0;
        }
    }
    cout << -1 << endl;
}
