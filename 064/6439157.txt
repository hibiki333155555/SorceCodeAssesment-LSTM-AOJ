#include <iostream>
#include <stack>

using namespace std;


void insertSort(int* array,int n,int g,int& count){
	for(int i=g;i<n;i++){
		int j;
		int insert=array[i];
		for(j=i-g;j>=0&&insert<array[j];j=j-g){
			array[j+g]=array[j];
			count++;
		}
		array[j+g]=insert;
	}
}


void shellSort(int array[], int n) {
	int count = 0;
	int m = 0;
	stack<int> G;
	for (int g = 1; g <= n; g = 3 * g + 1) {
		G.push(g);
		m++;
	}
	cout << m << endl;
	while (!G.empty()) {
		int g = G.top(); G.pop();
		insertSort(array, n, g, count);
		cout << g;
		if (!G.empty()) cout << " ";
	}
	cout << endl;
	cout << count << endl;
	for (int i = 0; i < n; i++) {
		cout << array[i] << endl;
	}
}

int main() {
	int n;
	cin >> n;
	int array[n] = { 0 };
	for (int i = 0; i < n; i++) {
		cin >> array[i];
	}
	shellSort(array, n);
}

/*
void insertSort(int array[], int n, int g, int& count) {
	for (int i = g; i < n; i++) {
		int insert = array[i];
		int j;
		for (j = i - g; j >= 0 && insert < array[j]; j = j - g) {
			array[j + g] = array[j];
			count++;
		}
		array[j + g] = insert;
	}
}
*/
