#define _GLIBCXX_DEBUG
#include<iostream>
#include<stdio.h>
using namespace std;
#define MAX 100000

int H,A[MAX+1];

void maxHeapify(int u){
    int leftIdx = u*2, rightIdx = u*2-1, largestId=u;
    
    if(leftIdx <= H && A[leftIdx] > A[u])
        largestId = leftIdx;
    if(rightIdx <= H && A[rightIdx] > A[largestId])
        largestId = rightIdx;
    
    if(u != largestId){
        swap(A[u], A[largestId]);
        maxHeapify(largestId);
    }
    
}


int main(){
    cin>>H;
    
    for(int i=1;i<=H;i++)
        cin>>A[i];
    
    for(int i=H/2;i>0;i--)
        maxHeapify(i);
    
    for(int i=1;i<=H;i++)
        cout<<" "<<A[i]<<endl;
    
    
}

