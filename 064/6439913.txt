#include <bits/stdc++.h>
#define REP(i, n) for(int i = 0; i < (int)(n); i++)
using namespace std;
using ll = long long;

signed main(void) {
    int n, m; cin >> n >> m;
    using LIP = pair<ll, int>;
    vector<ll> a(n); vector<int> b(n), c(n);
    vector<set<int>> b_i(m+1), c_i(m+1);
    REP(i, n) {
        cin >> a[i] >> b[i] >> c[i]; b[i]--;
        b_i[b[i]].insert(i);
        c_i[c[i]].insert(i);
    }
    vector<ll> daemon(m+1);
    int q; cin >> q;
    REP(_, q) {
        ll d; int e; cin >> d >> e; e--;
        daemon[e] += d;
    }
    ll cur = 0;
    priority_queue<LIP> pq;
    ll ans = 0;
    REP(i, m) {
        for(int id : b_i[i]) {
            cur += a[id];
            pq.emplace(c[id], id);
        }
        for(int id : c_i[i]) {
            cur -= a[id];
        }
        while(!pq.empty() && pq.top().first <= i) pq.pop();
        if(cur >= daemon[i]) continue;
        if(pq.empty()) {
            cout << "-1\n";
            return 0;
        }
        ll diff = daemon[i] - cur;
        a[pq.top().second] += diff;
        cur += diff;
        ans += diff;
    }
    cout << ans << '\n';
}
