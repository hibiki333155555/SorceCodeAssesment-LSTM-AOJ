#include<bits/stdc++.h>
using namespace std;
int main()
{
  queue<int>qu[1001];
  int n,q;
  cin>>n>>q;
  while(q--)
  {
     int a,t;
    cin>>a;
     if(a==0)
     {
         int x;
         cin>>t>>x;
         qu[t].push(x);
     }
     else if(a==1)
     {
         cin>>t;
         if(!qu[t].empty())
         {
             cout<<qu[t].front()<<endl;
         }

     }
     else
    {
           cin>>t;
        if(!qu[t].empty())
        {
            qu[t].pop();
        }


     }


  }



    return 0;
}


