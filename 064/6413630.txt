#include <bits/stdc++.h>
using namespace std;
#define rep(i, n) for (decltype(n) i = 0; i < (n); ++i)
#define rep3(i, s, n) for (decltype(n) i = (s); i < (n); ++i)
#define repR(i, n) for (decltype(n) i = (n)-1; i >= 0; --i)
#define rep3R(i, s, n) for (decltype(n) i = (n)-1; i >= (s); --i)
#define repit(it, c) for (auto it = (c).begin(); it != (c).end(); ++it)
#define all(x) ::std::begin(x), ::std::end(x)

using ll = long long;

template <typename T, typename U>
inline bool chmax(T &current, const U &test) {
  if (current < test) {
    current = test;
    return true;
  }
  return false;
}
template <typename T, typename U>
inline bool chmin(T &current, const U &test) {
  if (current > test) {
    current = test;
    return true;
  }
  return false;
}

const int INF = 1e9;

const int MAX_N = 40;
int n;
ll w[MAX_N], v[MAX_N];
ll W;
pair<ll, ll> ps[1 << (MAX_N / 2)];

void solve() {
  int n2 = n / 2;
  for (int i = 0; i < 1 << n2; i++) {
    ll sw = 0, sv = 0;
    for (int j = 0; j < n2; j++) {
      if (i >> j & 1) {
        sw += w[j];
        sv += v[j];
      }
    }
    ps[i] = make_pair(sw, sv);
  }
  sort(ps, ps + (1 << n2));
  int m = 1;
  for (int i = 1; i < 1 << n2; i++) {
    if (ps[m - 1].second < ps[i].second) {
      // この条件分岐がよく分からないので蟻本のコードに誤植無いか調べる submit
      ps[m++] = ps[i];
    }
  }
  ll res = 0;
  for (int i = 0; i < 1 << (n - n2); i++) {
    ll sw = 0, sv = 0;
    for (int j = 0; j < n - n2; j++) {
      if (i >> j & 1) {
        sw += w[n2 + j];
        sv += v[n2 + j];
      }
    }
    if (sw <= W) {
      ll tv = (lower_bound(ps, ps + m, make_pair(W - sw, (ll)INF)) - 1)->second;
      res = max(res, sv + tv);
    }
  }
  printf("%lld\n", res);
}

int main() {
  ios_base::sync_with_stdio(false);
  cin.tie(NULL);
  constexpr char endl = '\n';
  ///////////////////////////

  cin >> n >> W;
  rep(i, n) { cin >> v[i] >> w[i]; }
  solve();
}
