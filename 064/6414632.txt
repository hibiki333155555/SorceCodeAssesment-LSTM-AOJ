#include<iostream>
#include<queue>
using namespace std;
int N;
string S;
int A[2<<17];
long LS[2<<17],LC[2<<17];
long RS[2<<17],RC[2<<17];
int main()
{
	cin>>N>>S;
	for(int i=0;i<N;i++)cin>>A[i];
	{//L
		priority_queue<int>P;
		LS[0]=0;
		LC[0]=0;
		long s=0,c=0;
		for(int i=0;i<N;i++)
		{
			if(S[i]=='(')c++;
			else
			{
				P.push(-A[i]);
				if(c>=1)c--;
				else
				{
					s+=-P.top();P.pop();
					c++;
				}
			}
			LS[i+1]=s;
			LC[i+1]=c;
		}
	}
	{//R
		priority_queue<int>P;
		RS[N]=0;
		RC[N]=0;
		long s=0,c=0;
		for(int i=N;i--;)
		{
			if(S[i]==')')c++;
			else
			{
				P.push(-A[i]);
				if(c>=1)c--;
				else
				{
					s+=-P.top();P.pop();
					c++;
				}
			}
			RS[i]=s;
			RC[i]=c;
		}
	}
	long ans=1e9;
	for(int i=0;i<=N;i++)
	{
		if(LC[i]==RC[i])ans=min(ans,LS[i]+RS[i]);
	}
	cout<<ans<<endl;
}

