#include <iostream>
#include <vector>
#include <tuple>
#include <algorithm>
#include <map>

using namespace std;

int main()
{
	int V, E; cin >> V >> E;
	vector<tuple<int, int, int>> Ed(E);
	for (auto& [v, s, t] : Ed) cin >> s >> t >> v;
	sort(Ed.begin(), Ed.end());
	map<int, vector<int>> S;
	vector<int> U(V);
	for (int i = 0; i < V; ++i) S[U[i] = i].push_back(i);
	int w = 0;
	for (auto [v, s, t] : Ed) {
		if (U[s] == U[t]) continue;
		w += v;
		auto us = U[s], ut = U[t];
		if (S[us].size() > S[ut].size()) swap(us, ut);
		for (auto i : S[us]) {
			U[i] = ut;
			S[ut].push_back(i);
		}
		S.erase(us);
	}
	cout << w << endl;
	return 0;
}

