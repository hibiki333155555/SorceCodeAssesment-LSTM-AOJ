#include <iostream>
#include <queue>
using namespace std;
int main()
{
    //first in first out
    //push pop front
    int n, q,x,y,z;
    cin>>n>>q;
    queue <int> a[n];
    while(q--){
        cin>>x;
        if(x==0){
            cin>>y>>z;
            a[y].push(z);
        }
        else if(x==1){
        cin>>y;
        if(!a[y].empty())
        cout<<a[y].front()<<endl;
        }
        else{
        cin>>y;
        if(!a[y].empty())
        a[y].pop();
        }
    }

}

