#include <iostream>

using namespace std;

int main()
{
	int N, key, n;
	bool p = true;
	cin >> N;
	int a[102], c[102];
	char b[102], d[102];
	for (int i = 0; i < N; i++)
	{
		cin >> b[i];
		cin >> a[i];
	}
	for (int i = 0; i < N; i++)
	{
		d[i] = b[i];
		c[i] = a[i];
	}

	for (int i = 0; i < (N - 1); i++)
	{
		for (int j = (i + 1); j < N; j++)
		{
			if (a[i] > a[j])
			{
				int temp;
				temp = a[i];
				a[i] = a[j];
				a[j] = temp;
				char pmet;
				pmet = b[i];
				b[i] = b[j];
				b[j] = pmet;
			}
		}
	}

	for (int i = 0; i < N - 1; i++)
	{
		key = i;
		for (n = i + 1; n < N; n++)
		{
			if (c[n] < c[key])
				key = n;
		}
		if (key != i)
		{
			int temp;
			temp = c[i];
			c[i] = c[key];
			c[key] = temp;
			char pmet;
			pmet = d[i];
			d[i] = d[key];
			d[key] = pmet;
		}
	}

	for (int i = 0; i < N; i++)
	{
		if (c[i] != a[i] || d[i] != b[i])
		{
			p = false;
		}
	}

	for (int i = 0; i < N; i++)
	{
		if (i > 0)
			cout << " ";
		cout << b[i] << a[i];
	}
	cout << endl << "Stable" << endl;
	for (int i = 0; i < N; i++)
	{
		if (i > 0)
			cout << " ";
		cout << d[i] << c[i];
	}
	if (p = true)
	{
		cout << endl << "Stable" << endl;
	}
	else
	{
		cout << endl << "Not stable" << endl;
	}

	return 0;
}
