#include <iostream>
#include <stack>
#include <vector>
using namespace std;

int main(){
    stack<int> s1;
    stack<pair<int, int> > s2;
    string str;
    cin >> str;
    for(int i=0; i<str.size(); i++){
        if(str[i] == '\\'){
            // cout << "hhh" << endl;
            s1.push(i);
        }
        else if(str[i] == '/'){
            // cout << "hhhh" << endl;
            if(!s1.empty()){
                int x = s1.top();
                s1.pop();
                int area = i - x;
                while(!s2.empty() && s2.top().first > x){
                    area += s2.top().second;
                    // cout << "j" << endl;
                    s2.pop();
                }
                s2.push(make_pair(x, area));
            }
        }
    }
    vector<int> vec;
    int sum=0;
    while(!s2.empty()){
        vec.push_back(s2.top().second);
        sum += s2.top().second;
        s2.pop();
    }
    cout << sum << endl;
    cout << vec.size() << ' ';
    for(int i=vec.size()-1; i>=0; i--){
        cout << vec[i] << " " ;
    }
    return 0;
}
