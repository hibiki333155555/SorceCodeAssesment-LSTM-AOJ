#include <iostream>
#include <algorithm>
#include <stack>
#include <vector>
using namespace std;
char ch;
int ans = 0;
stack <int> s1;
stack <pair <int,int> > s2;
int main () {
	for (int i = 0;cin >> ch;i++) {
		if (ch == '\\') s1.push (i);
		else if (ch == '/' && !s1.empty ())  {
			int j = s1.top ();
			s1.pop ();
			int a = i-j;
			ans += a;
			while (!s2.empty () && s2.top ().first > j) {
				a += s2.top ().second;
				s2.pop ();
			}
			s2.push ({j,a});
		}
	}
	vector <int> res;
	while (!s2.empty ()) {
		res.push_back (s2.top ().second);
		s2.pop ();
	}
	reverse (res.begin (),res.end ());
	cout << ans << endl << res.size ();
	for (int x : res) {
		cout << ' ' << x;
	}
	cout << endl;
    return 0;
}
