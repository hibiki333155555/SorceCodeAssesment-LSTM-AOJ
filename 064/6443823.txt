#include <iostream>
#include <vector> // vector
using namespace std;

vector<int> G;
int cnt = 0;

void insertionsort(int A[],int n,int g){
    for(int i = g;i < n;i++){
        int v = A[i];
        int j = i - g;
        while(j >= 0 && A[j] > v){
            A[j + g] = A[j];
            j = j - g;
            cnt++;
        }
        A[j + g] = v;
    }
}

void shellsort(int A[], int n){
    for(int h = 1; ; ){
        if(h > n)break;
        G.push_back(h);
        h = h * 3 + 1;
    }
    for(int i = G.size() - 1;i >= 0;i--){
        insertionsort(A, n, G[i]);
    }
}

int main() {
    int  n;
    cin >> n;
    int A[n];
    for(int i = 0;i < n;i++)cin >> A[i];
    shellsort(A, n);

    cout << G.size() << endl;
    for(int i = G.size() - 1;i >= 0;i--){
        if(i > 0)cout << " ";
        cout << G[i];
    }

    cout << endl << cnt << endl;

    for(int i = 0;i < n;i++){
        cout << A[i] << endl;
    }
}

